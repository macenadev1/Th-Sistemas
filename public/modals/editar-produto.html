<!-- Modal de Edi√ß√£o de Produto -->
<div id="editarProdutoModal" class="modal modal-nested">
    <div class="modal-content" onclick="event.stopPropagation()" style="max-width: 95%; max-height: 90vh; overflow-y: auto;">
        <div class="modal-header">
            <h2>‚úèÔ∏è Editar Produto</h2>
        </div>
        <form id="editarForm" onsubmit="salvarEdicaoProduto(event)">
            <input type="hidden" id="editarId">
            
            <!-- Linha 1: C√≥digo de Barras + Nome -->
            <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 15px; margin-bottom: 15px;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label>C√≥digo de Barras:</label>
                    <input type="text" id="editarCodigoBarras" readonly style="background: #f8f9fa; color: #666;">
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label>Nome do Produto:</label>
                    <input type="text" id="editarNome" required>
                </div>
            </div>
            
            <!-- Linha 2: Pre√ßo de Venda + Pre√ßo de Custo -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label>Pre√ßo de Venda (R$):</label>
                    <input type="text" id="editarPreco" placeholder="0,00" required>
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label>Pre√ßo de Custo (R$):</label>
                    <input type="text" id="editarCusto" placeholder="0,00">
                    <small style="color: #666; display: block; margin-top: 5px;">Valor pago ao fornecedor</small>
                </div>
            </div>
            
            <!-- Linha 3: Estoque + Estoque M√≠nimo + Desconto -->
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label>Estoque:</label>
                    <input type="number" id="editarEstoque" min="0" required>
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label>Estoque M√≠nimo:</label>
                    <input type="number" id="editarEstoqueMinimo" min="0" required>
                    <small style="color: #666; display: block; margin-top: 5px;">‚ö†Ô∏è Alerta de reposi√ß√£o</small>
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label>Desconto (%):</label>
                    <input type="number" id="editarDesconto" min="0" max="100" step="0.01" value="0" placeholder="0.00">
                    <small style="color: #666; display: block; margin-top: 5px;">Desconto autom√°tico no pre√ßo</small>
                </div>
            </div>
            
            <!-- Linha 4: Fornecedor + Categoria -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #333; margin-bottom: 8px;">
                        <span style="font-size: 18px;">üè≠</span> Fornecedor:
                    </label>
                    <select id="editarFornecedorProduto" style="
                        width: 100%;
                        padding: 12px 16px;
                        font-size: 15px;
                        border: 2px solid #e0e0e0;
                        border-radius: 8px;
                        background: white;
                        cursor: pointer;
                        transition: all 0.2s;
                        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                    " onfocus="this.style.borderColor='#ff9800'; this.style.boxShadow='0 0 0 3px rgba(255, 152, 0, 0.1)'" onblur="this.style.borderColor='#e0e0e0'; this.style.boxShadow='none'">
                        <option value="" style="color: #999;">-- Nenhum --</option>
                    </select>
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label style="display: flex; align-items: center; gap: 8px; font-weight: 600; color: #333; margin-bottom: 8px;">
                        <span style="font-size: 18px;">üè∑Ô∏è</span> Categoria:
                    </label>
                    <select id="editarCategoriaProduto" style="
                        width: 100%;
                        padding: 12px 16px;
                        font-size: 15px;
                        border: 2px solid #e0e0e0;
                        border-radius: 8px;
                        background: white;
                        cursor: pointer;
                        transition: all 0.2s;
                        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                    " onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)'" onblur="this.style.borderColor='#e0e0e0'; this.style.boxShadow='none'">
                        <option value="" style="color: #999;">-- Nenhuma --</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label style="display: block; margin-bottom: 10px;">
                    <span style="font-weight: 600; font-size: 14px; color: #333;">Status do Produto</span>
                </label>
                <div style="display: flex; align-items: center; gap: 15px; padding: 15px; background: #f8f9fa; border-radius: 12px; border: 2px solid #e0e0e0;">
                    <div style="flex: 1;">
                        <div id="statusTextoEditar" style="font-weight: bold; font-size: 16px; color: #28a745; margin-bottom: 5px;">
                            ‚úì Ativo
                        </div>
                        <small style="color: #666; font-size: 12px;">
                            Produtos inativos n√£o aparecem nas vendas
                        </small>
                    </div>
                    <label class="toggle-switch" style="position: relative; display: inline-block; width: 60px; height: 30px; cursor: pointer;">
                        <input type="checkbox" id="editarAtivo" style="opacity: 0; width: 0; height: 0;">
                        <span class="toggle-slider" style="
                            position: absolute;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            background-color: #28a745;
                            border-radius: 30px;
                            transition: all 0.3s ease;
                            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
                        "></span>
                        <span class="toggle-circle" style="
                            position: absolute;
                            content: '';
                            height: 24px;
                            width: 24px;
                            left: 3px;
                            bottom: 3px;
                            background-color: white;
                            border-radius: 50%;
                            transition: all 0.3s ease;
                            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
                        "></span>
                    </label>
                </div>
                <style>
                    /* Estilo quando checkbox est√° desmarcado (inativo) */
                    .toggle-switch input:not(:checked) + .toggle-slider {
                        background-color: #dc3545 !important;
                    }
                    .toggle-switch input:not(:checked) ~ .toggle-circle {
                        transform: translateX(0) !important;
                    }
                    /* Estilo quando checkbox est√° marcado (ativo) */
                    .toggle-switch input:checked + .toggle-slider {
                        background-color: #28a745 !important;
                    }
                    .toggle-switch input:checked ~ .toggle-circle {
                        transform: translateX(30px) !important;
                    }
                    /* Hover effect */
                    .toggle-switch:hover .toggle-slider {
                        box-shadow: 0 3px 8px rgba(0,0,0,0.3);
                    }
                    /* Active effect */
                    .toggle-switch:active .toggle-circle {
                        width: 28px;
                    }
                </style>
            </div>
            <div class="modal-actions">
                <button type="submit" class="btn btn-success" style="flex: 1;">üíæ Salvar Altera√ß√µes</button>
                <button type="button" class="btn btn-danger" onclick="fecharModalAninhado(event, 'editarProdutoModal')" style="flex: 1;">Voltar</button>
            </div>
        </form>
    </div>
</div>
